# BG3 存档同步客户端

博德之门3云存档自动同步工具，支持自动备份和恢复游戏存档。

## 版本信息

- 版本：见程序关于页面
- 构建类型：Debug 版本（带日志输出）

## 快速开始

### 1. 首次运行

1. 双击运行 `bg3-sync.exe`
2. 程序会在系统托盘显示图标
3. 点击托盘图标 → "设置" 配置服务器地址和存档路径

### 2. 配置说明

**必填项**：
- **Nebula 服务器地址**：你的云存档服务器地址（例如：`http://your-server.com:3000`）
- **存档路径**：BG3 存档目录（默认已自动填写）

**可选项**：
- **游戏运行时自动上传**：游戏过程中自动备份存档到云端
- **游戏退出后自动恢复云端存档**：游戏关闭后自动下载最新云端存档

### 3. 使用功能

- **自动同步**：勾选主界面的"自动同步"开关
- **手动上传**：点击"立即上传"按钮
- **恢复存档**：在存档列表中选择要恢复的存档，点击"恢复"

## 日志文件位置

程序运行日志自动保存在：
```
%APPDATA%\BG3SyncClient\logs\
```

日志文件命名格式：`bg3sync_YYYY-MM-DD_HH-MM-SS.log`

程序会自动清理7天前的旧日志文件。

## 配置文件位置

配置文件保存在：
```
%APPDATA%\BG3SyncClient\config.json
```

## 支持的游戏模式

当前版本仅支持**荣誉模式**存档（文件夹名以 `__HonourMode` 结尾）。

如需支持其他模式，请联系开发者或修改源代码。

## 常见问题

### Q: 程序无法连接服务器？
A:
1. 检查服务器地址是否正确
2. 确认防火墙已允许程序联网
3. 查看日志文件获取详细错误信息

### Q: 自动上传不工作？
A: 确认以下条件：
1. 主界面"自动同步"开关已勾选
2. 游戏状态显示"运行中"
3. 正在玩荣誉模式（存档文件夹以 `__HonourMode` 结尾）

### Q: 如何添加防火墙例外？
A:
1. 打开 "Windows Defender 防火墙" → "高级设置"
2. 点击 "出站规则" → "新建规则"
3. 选择 "程序" → 浏览到 `bg3-sync.exe`
4. 选择 "允许连接"

## 技术支持

- GitHub：https://github.com/mofan/bg3sync （替换为你的实际仓库地址）
- 问题反馈：在 GitHub Issues 提交问题

## 开源协议

本项目采用 MIT 协议开源。
